<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>AJAX Lesson01</title>
		
		<script>
			let xhttp = new XMLHttpRequest();
			xhttp.onreadystatechange = function(){
				if( xhttp.readyState == 1){
					document.getElementById('id1').innerHTML = 'server connection';				
				}else if(xhttp.readyState == 2){
					document.getElementById('id2').innerHTML = 'request received';	
				}else if(xhttp.readyState == 3){
					document.getElementById('id3').innerHTML = 'processing request';	
				}else if(xhttp.readyState == 4){
					document.getElementById('id4').innerHTML = 'request finished and response is ready';	
					if(xhttp.status == 200){
						document.getElementById('lottery1').innerHTML = xhttp.responseText;
					}
				}
				
			}
			xhttp.onload = function(){
				console.log("onload");
				document.getElementById('lottery2').innerHTML = xhttp.responseText;
			}
			function test01(){
				xhttp.open("GET","brad47.jsp",true);
				xhttp.send();
			}
		</script>
	</head>
	<body>
		<input type="button" onclick="test01()" value="Test" > <br />
		1. <span id="id1"></span> <br />
		2. <span id="id2"></span> <br />
		3. <span id="id3"></span> <br />
		4. <span id="id4"></span> <hr />
		Lottery: <span id="lottery1"></span> <br />
		Lottery: <span id="lottery2"></span> <br />
		
		
		
	</body>
</html>